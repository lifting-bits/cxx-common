diff --git a/cmake/CMakeLists.txt b/cmake/CMakeLists.txt
index 879fdb6..d669bf9 100644
--- a/cmake/CMakeLists.txt
+++ b/cmake/CMakeLists.txt
@@ -1,6 +1,6 @@
 # This file was generated from BUILD using tools/make_cmakelists.py.
 
-cmake_minimum_required(VERSION 3.1)
+cmake_minimum_required (VERSION 3.14)
 
 if(${CMAKE_VERSION} VERSION_LESS 3.12)
     cmake_policy(VERSION ${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION})
@@ -62,6 +62,7 @@ endif()
 enable_testing()
 
 add_library(port INTERFACE)
+add_library(descriptor_upbproto INTERFACE)
 add_library(upb
   ../upb/decode.c
   ../upb/decode_internal.h
@@ -126,4 +127,25 @@ add_library(table INTERFACE)
 target_link_libraries(table INTERFACE
   port)
 
-
+install(
+  DIRECTORY ../upb
+  DESTINATION include
+  FILES_MATCHING
+  PATTERN "*.h"
+  PATTERN "*.hpp"
+  PATTERN "*.inc"
+  PATTERN "*.int.h"
+)
+target_include_directories(upb PUBLIC $<INSTALL_INTERFACE:include>)
+install(TARGETS
+  port
+  descriptor_upbproto
+  upb
+  fastdecode
+  reflection
+  textformat
+  json
+  table
+  EXPORT upb-config
+)
+install(EXPORT upb-config NAMESPACE upb:: DESTINATION share/upb)
